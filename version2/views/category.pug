doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    meta(name="description" content=`${category} Handicrafts - Unique handmade products`)
    title= title || `${category} Handicrafts`
    link(rel="stylesheet" href="/css/styles.css")
    link(rel="stylesheet" href="/css/category.css")
    link(rel="icon" type="image/x-icon" href="/favicon.ico")
  
  body
    // Navigation
    header.header
      nav.navbar
        .container
          a.logo(href="/") ðŸ›ï¸ Handicraft Store
          .nav-links
            a(href="/") Home
            a(href="/#categories") Categories
            a(href="/about") About
            a.cart-link(href="/cart" style="position: relative;")
              | ðŸ›’ Cart
              span.cart-badge 0
    
    // Breadcrumb
    .breadcrumb
      .container
        a(href="/") Home
        span.separator /
        span= category
    
    // Category Hero
    section.category-hero
      .container
        h1.category-title= `${category} Handicrafts`
        p.category-description= `Explore our collection of authentic ${category} handcrafted products`
    
    // Products Grid
    section.products-section
      .container
        .products-count
          p= `Showing ${products.length} product${products.length !== 1 ? 's' : ''}`
        
        .products-grid
          each product in products
            .product-card(data-product-id=product.id)
              .product-image
                img(src=product.img alt=product.name loading="lazy")
                .product-badge In Stock
              
              .product-info
                h3.product-name= product.name
                p.product-description= product.description
                .product-meta
                  span.product-maker
                    | ðŸ‘¤ #{product.madeBy}
                  span.product-stock
                    | ðŸ“¦ #{product.stock} in stock
                
                .product-footer
                  span.product-price= `$${product.price.toFixed(2)}`
                  button.btn.btn-primary(
                    onclick=`cart.addToCart(${product.id}); event.stopPropagation();`
                    title="Add to cart"
                  )
                    | Add to Cart
                
                .product-tags
                  each tag in product.tags
                    span.tag= tag
    
    // Related Products
    if products.length > 0
      section.related-section
        .container
          #suggestions-container
            // Suggestions will be loaded by JavaScript
    
    // Call to Action
    section.cta-section
      .container
        h2 Looking for something specific?
        p Explore our other categories
        a.btn.btn-secondary(href="/#categories") Browse All Categories
    
    // Footer
    footer.footer
      .container
        .footer-content
          .footer-section
            h3 Handicraft Store
            p Connecting artisans with the world
          
          .footer-section
            h3 Quick Links
            ul
              li: a(href="/#categories") Categories
              li: a(href="/about") About Us
              li: a(href="/cart") Shopping Cart
          
          .footer-section
            h3 Contact
            p Email: info@handicraftstore.com
            p Phone: +1 (555) 123-4567
        
        .footer-bottom
          p &copy; 2024 Handicraft Store. All rights reserved.
    
    // Scripts
    script(src="/js/app.js")
    script.
      // Load suggestions for the first product
      document.addEventListener('DOMContentLoaded', () => {
        const products = !{JSON.stringify(products)};
        if (products.length > 0) {
          loadSuggestions(products[0].id, 'suggestions-container');
        }
      });
